<VirtualHost *:80>
    DocumentRoot /ska/public_html
    DirectoryIndex init.php
    FallbackResource /init.php

    <Directory "/ska/public_html">
        AuthType Basic
        AuthName "SSH Key Authority"

        ### START mod_authn_file ###
        # To use LDAP, you need to comment out the next line.
        AuthUserFile /ska/config/htpasswd
        ### END mod_authn_file ###

        ### START mod_authnz_ldap ###
        # To use file-based authentication, you need to comment out the following block.
        # Your server settings and BindDN must be configured when using LDAP.
        #AuthBasicProvider ldap
        #AuthLDAPBindDN "domain\username"
        #AuthLDAPBindPassword "password"
        #AuthLDAPURL "ldaps://dc-01.ad.example.org:636/OU=Employees,DC=AD,DC=example,DC=org?sAMAccountName?sub?(objectClass=*)"
        ### END mod_authnz_ldap ###

        Require valid-user
        AllowOverride none
        DirectoryIndex init.php
        FallbackResource /init.php
        Order allow,deny
        Allow from all
    </Directory>
</VirtualHost>

LDAPVerifyServerCert off
AllowEncodedSlashes NoDecode
ServerName ska
